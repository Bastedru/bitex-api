
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>bitex.one API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#rest-api-for-statistic-data" class="toc-h1 toc-link" data-title="REST API for statistic data">REST API for statistic data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request" class="toc-h2 toc-link" data-title="Request">Request</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="WEBSOCKET API">WEBSOCKET API</a>
          </li>
          <li>
            <a href="#instrument-params" class="toc-h1 toc-link" data-title="Instrument params">Instrument params</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request" class="toc-h2 toc-link" data-title="Request">Request</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#instrument-statistics" class="toc-h1 toc-link" data-title="Instrument statistics">Instrument statistics</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response-2" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order-book" class="toc-h1 toc-link" data-title="Order Book">Order Book</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request-order-book-subscribe" class="toc-h2 toc-link" data-title="Request Order Book subscribe">Request Order Book subscribe</a>
                  </li>
                  <li>
                    <a href="#request-order-book-unsubscribe" class="toc-h2 toc-link" data-title="Request Order Book unsubscribe">Request Order Book unsubscribe</a>
                  </li>
                  <li>
                    <a href="#response-order-book-clear" class="toc-h2 toc-link" data-title="Response Order Book clear">Response Order Book clear</a>
                  </li>
                  <li>
                    <a href="#response-order-book-snapshot" class="toc-h2 toc-link" data-title="Response Order Book snapshot">Response Order Book snapshot</a>
                  </li>
                  <li>
                    <a href="#response-order-book-incremental-changes" class="toc-h2 toc-link" data-title="Response Order Book incremental changes">Response Order Book incremental changes</a>
                  </li>
                  <li>
                    <a href="#order-book-update-logic" class="toc-h2 toc-link" data-title="Order Book update logic">Order Book update logic</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#trades" class="toc-h1 toc-link" data-title="Trades">Trades</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request-trades-subscribe" class="toc-h2 toc-link" data-title="Request Trades subscribe">Request Trades subscribe</a>
                  </li>
                  <li>
                    <a href="#request-trades-unsubscribe" class="toc-h2 toc-link" data-title="Request Trades unsubscribe">Request Trades unsubscribe</a>
                  </li>
                  <li>
                    <a href="#response-trades-clear" class="toc-h2 toc-link" data-title="Response Trades clear">Response Trades clear</a>
                  </li>
                  <li>
                    <a href="#response-trades-snapshot" class="toc-h2 toc-link" data-title="Response trades snapshot">Response trades snapshot</a>
                  </li>
                  <li>
                    <a href="#response-trades-incremental-changes" class="toc-h2 toc-link" data-title="Response trades incremental changes">Response trades incremental changes</a>
                  </li>
                  <li>
                    <a href="#trades-update-logic" class="toc-h2 toc-link" data-title="Trades update logic">Trades update logic</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request" class="toc-h2 toc-link" data-title="Request">Request</a>
                  </li>
                  <li>
                    <a href="#request-parameters" class="toc-h2 toc-link" data-title="Request parameters">Request parameters</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
                  <li>
                    <a href="#order-snapshot" class="toc-h2 toc-link" data-title="Order Snapshot">Order Snapshot</a>
                  </li>
                  <li>
                    <a href="#position-snapshot" class="toc-h2 toc-link" data-title="Position Snapshot">Position Snapshot</a>
                  </li>
                  <li>
                    <a href="#balance-snapshot" class="toc-h2 toc-link" data-title="Balance Snapshot">Balance Snapshot</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order" class="toc-h1 toc-link" data-title="Order">Order</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-order" class="toc-h2 toc-link" data-title="Add Order">Add Order</a>
                  </li>
                  <li>
                    <a href="#move-order" class="toc-h2 toc-link" data-title="Move Order">Move Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="Cancel Order">Cancel Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#flood-control-system" class="toc-h1 toc-link" data-title="Flood control system">Flood control system</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#principle-of-operation" class="toc-h2 toc-link" data-title="Principle of operation">Principle of operation</a>
                  </li>
                  <li>
                    <a href="#penalties" class="toc-h2 toc-link" data-title="Penalties">Penalties</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#commands" class="toc-h1 toc-link" data-title="Commands">Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#public-request" class="toc-h2 toc-link" data-title="Public request">Public request</a>
                  </li>
                  <li>
                    <a href="#public-response" class="toc-h2 toc-link" data-title="Public response">Public response</a>
                  </li>
                  <li>
                    <a href="#authorized-request" class="toc-h2 toc-link" data-title="Authorized request">Authorized request</a>
                  </li>
                  <li>
                    <a href="#authorized-response" class="toc-h2 toc-link" data-title="Authorized response">Authorized response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-codes" class="toc-h1 toc-link" data-title="Error codes">Error codes</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.bitex.one/form/form-registration/'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='rest-api-for-statistic-data'>REST API for statistic data</h1>
<p>Through the REST API, you can get statistical data on all stock instruments in the last 24 hours.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Request  </span>
<span class="nl">https</span><span class="p">:</span><span class="c1">//api.bitex.one/v1/instruments</span>

<span class="c1">// Response</span>
<span class="p">[{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">109.38275895</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">26.031</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"LTCUSDT"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">391174.62</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">99.1654167</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">107.45</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"BCHABCUSDT-03.19"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"FUT"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">354635.36</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">106.76572455</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">3561.8</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"BTCUSDT-03.19"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"FUT"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">381815.58</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">105.29687215</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">3573.2</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">376562.67</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">91.2738902</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">95.58</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"ETHUSDT"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">326413.68</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">99.0154287</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">108.66</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"BCHABCUSDT"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">354098.97</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">109.22877655</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">2.021</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"EOSUSDT"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">390623.95</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">91.5819756</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">96.64</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"ETHUSDT-03.19"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"FUT"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">327515.46</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">109.8624868</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">25.011</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"LTCUSDT-03.19"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"FUT"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">392890.22</span><span class="p">},</span>
<span class="p">{</span><span class="s2">"btc_24h"</span><span class="p">:</span><span class="mf">109.2785538</span><span class="p">,</span><span class="s2">"last_deal"</span><span class="p">:</span><span class="mf">2.0084</span><span class="p">,</span><span class="s2">"leverage"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="s2">"maker_commission"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"EOSUSDT-03.19"</span><span class="p">,</span><span class="s2">"taker_commission"</span><span class="p">:</span><span class="mf">0.075</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"FUT"</span><span class="p">,</span><span class="s2">"usd_24h"</span><span class="p">:</span><span class="mf">390801.96</span><span class="p">}]</span>
</code></pre><h3 id='request'>Request</h3>
<p><code>
<a href='https://api.bitex.one/v1/instruments'>https://api.bitex.one/v1/instruments</a>
</code></p>
<h3 id='response'>Response</h3>
<p><code>
{&quot;btc_24h&quot;:,&quot;last_deal&quot;:,&quot;leverage&quot;:,&quot;maker_commission&quot;:,&quot;name&quot;:,&quot;taker_commission&quot;:,&quot;type&quot;:,&quot;usd_24h&quot;:}
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>btc_24h</td>
<td>true</td>
<td>uint32</td>
<td>Last 24h turnover in BTC</td>
</tr>
<tr>
<td>last_deal</td>
<td>true</td>
<td>int32</td>
<td>Last deal price of the instrument</td>
</tr>
<tr>
<td>leverage</td>
<td>true</td>
<td>uint16</td>
<td>Leverage instrument</td>
</tr>
<tr>
<td>maker_commission</td>
<td>double</td>
<td>int32</td>
<td>Comission of maker deal side in % (if negative then maker takes rebate)</td>
</tr>
<tr>
<td>name</td>
<td>true</td>
<td>string</td>
<td>Instrument name</td>
</tr>
<tr>
<td>taker_commission</td>
<td>double</td>
<td>int32</td>
<td>Comission of taker deal side in %</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>uint8</td>
<td>Type of instrument</td>
</tr>
<tr>
<td>usd_24h</td>
<td>true</td>
<td>uint32</td>
<td>Last 24h turnover in USD</td>
</tr>
</tbody></table>
<h1 id='websocket-api'>WEBSOCKET API</h1>
<aside class="success">Connection address: <b>wss://ws.bitex.one/ws</b></aside>

<p>The WEBSOCKET API is designed to receive market data and send trade orders. It can be used for programming trading robots and integrating into various trading terminals.</p>
<h1 id='instrument-params'>Instrument params</h1>
<p>Request instrument parameters.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Request</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1104,[]]'</span><span class="p">);</span>
<span class="c1">// Response</span>
<span class="p">[</span><span class="mi">1105</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.075</span><span class="p">,</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">501</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">14400</span><span class="p">,</span><span class="mi">28800</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">13</span><span class="p">,</span><span class="s2">"BCHUSD-12.18"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.075</span><span class="p">,</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1545998400000</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">313</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">402</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">102</span><span class="p">,</span><span class="s2">"BCHUSDi"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">201</span><span class="p">,</span><span class="s2">"BTCUSDm"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">312</span><span class="p">,</span><span class="s2">"BTCUSD-12.18m"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">511</span><span class="p">,</span><span class="s2">"EOSUSDf_avg_8h"</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
      <span class="p">]</span>
<span class="p">]</span>
</code></pre><h3 id='request'>Request</h3>
<p><code>
[1104,[]]
</code></p>
<h3 id='response'>Response</h3>
<p><code>
[ins_id,ins_name,tick_size,price_min,price_max,volume_min,volume_max,precision,comiss_taker,
comiss_maker,tick_value,maintenance,leverage,ins_type,expiration_time,index_id,mark_price_id,
funding_index_id,expiration_index_id,funding_begin_time,funding_period_time,expiration_comiss]
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>ins_name</td>
<td>true</td>
<td>string</td>
<td>Instrument name</td>
</tr>
<tr>
<td>tick_size</td>
<td>true</td>
<td>int32</td>
<td>Minimum price step</td>
</tr>
<tr>
<td>price_min</td>
<td>true</td>
<td>int32</td>
<td>Minimum price limit</td>
</tr>
<tr>
<td>price_max</td>
<td>true</td>
<td>int32</td>
<td>Maximum price limit</td>
</tr>
<tr>
<td>volume_min</td>
<td>true</td>
<td>int32</td>
<td>Minimum order volume</td>
</tr>
<tr>
<td>volume_max</td>
<td>true</td>
<td>int32</td>
<td>Maximum order volume</td>
</tr>
<tr>
<td>precision</td>
<td>true</td>
<td>int8</td>
<td>Number of decimal places in the instrument price</td>
</tr>
<tr>
<td>comiss_taker</td>
<td>true</td>
<td>double</td>
<td>Deal commission for taker order, %</td>
</tr>
<tr>
<td>comiss_maker</td>
<td>true</td>
<td>double</td>
<td>Deal commission for maker order, %</td>
</tr>
<tr>
<td>tick_value</td>
<td>true</td>
<td>int32</td>
<td>Cost of minimum price step</td>
</tr>
<tr>
<td>maintenance</td>
<td>true</td>
<td>double</td>
<td>Maintenance margin, %</td>
</tr>
<tr>
<td>leverage</td>
<td>true</td>
<td>uint8</td>
<td>Leverage</td>
</tr>
<tr>
<td>ins_type</td>
<td>true</td>
<td>uint16</td>
<td>Instrument type: <br>1 - Swap contract<br>2 - Futures contract<br>5 - Instrument price index<br>6 - Instrument mark price<br>7 - avg 30m price index (expiration price)<br>8 - avg 8h index (funding value index)</td>
</tr>
<tr>
<td>expiration_time</td>
<td>true</td>
<td>uint64</td>
<td>Futures expiration time in ms, since Jan 01 1970. (UTC)</td>
</tr>
<tr>
<td>index_id</td>
<td>true</td>
<td>uint16</td>
<td>Index price ID</td>
</tr>
<tr>
<td>mark_price_id</td>
<td>true</td>
<td>uint16</td>
<td>Mark price ID</td>
</tr>
<tr>
<td>funding_index_id</td>
<td>true</td>
<td>uint16</td>
<td>Funding index ID</td>
</tr>
<tr>
<td>expiration_index_id</td>
<td>true</td>
<td>uint16</td>
<td>Expiration index ID</td>
</tr>
<tr>
<td>funding_begin_time</td>
<td>true</td>
<td>uint32</td>
<td>Funding begin time in seconds since 12:00 AM (UTC)</td>
</tr>
<tr>
<td>funding_period_time</td>
<td>true</td>
<td>uint32</td>
<td>Funding period time in seconds</td>
</tr>
<tr>
<td>expiration_comiss</td>
<td>true</td>
<td>double</td>
<td>Expiration commission, %</td>
</tr>
</tbody></table>
<h1 id='instrument-statistics'>Instrument statistics</h1>
<p>In first time after connect client receives statistics on all instruments. Then the data comes as it changes.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Response</span>
<span class="p">[</span><span class="mi">1107</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">62735</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="o">-</span><span class="mi">287</span><span class="p">,</span><span class="mi">200203586</span><span class="p">,</span><span class="mi">7638572</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">16</span><span class="p">,</span><span class="mi">4856</span><span class="p">,</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span><span class="o">-</span><span class="mi">154</span><span class="p">,</span><span class="mi">209799727</span><span class="p">,</span><span class="mi">7873820</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">102</span><span class="p">,</span><span class="mi">4370</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">332</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">209</span><span class="p">,</span><span class="mi">1829</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">139</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">301</span><span class="p">,</span><span class="mi">62725</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">464</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">404</span><span class="p">,</span><span class="mi">5114</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">263</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">509</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
      <span class="p">]</span>
<span class="p">]</span>
</code></pre><h3 id='response-2'>Response</h3>
<p><code>
[ins_id,last_deal_price,last_deal_volume,change_24h,volume_24h,open_interest]
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>last_deal_price</td>
<td>true</td>
<td>int32</td>
<td>Last deal price</td>
</tr>
<tr>
<td>last_deal_volume</td>
<td>true</td>
<td>int32</td>
<td>Last deal volume</td>
</tr>
<tr>
<td>change_24h</td>
<td>true</td>
<td>int32</td>
<td>Price change for the last 24 hours</td>
</tr>
<tr>
<td>volume_24h</td>
<td>true</td>
<td>int64</td>
<td>Trade volume for the last 24 hours</td>
</tr>
<tr>
<td>open_interest</td>
<td>true</td>
<td>int64</td>
<td>Open interest</td>
</tr>
</tbody></table>
<h1 id='order-book'>Order Book</h1>
<aside class="notice">Order book available only on Swap contracts (ins_type=1) and Futures contracts (ins_type=2)</aside>

<blockquote>
<p>Order Book subscribe:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Subscribe on order book for ins_id = 1</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1100, [1]]'</span><span class="p">);</span>

<span class="c1">// Subscribe on order book for ins_id = 1 and 2</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1100, [1, 2]]'</span><span class="p">);</span>
</code></pre><h3 id='request-order-book-subscribe'>Request Order Book subscribe</h3>
<p><code>
[1100,[ins_id]]
</code></p>

<blockquote>
<p>Order Book unsubscribe:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Unsubscribe on order book for ins_id = 1</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1101, [1]]'</span><span class="p">);</span>

<span class="c1">// Unsubscribe on order book for ins_id = 1 and 2</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1101, [1, 2]]'</span><span class="p">);</span>
</code></pre><h3 id='request-order-book-unsubscribe'>Request Order Book unsubscribe</h3>
<p><code>
[1101,[ins_id]]
</code></p>
<h3 id='response-order-book-clear'>Response Order Book clear</h3>
<p><code>
[1,ins_id,[]]
</code></p>

<blockquote>
<p>Order Book clear:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,[]]</span>
</code></pre>
<ul>
<li>Clear all data on order book</li>
</ul>
<h3 id='response-order-book-snapshot'>Response Order Book snapshot</h3>
<p><code>
[2,ins_id,[[price,volume]]]
</code></p>

<blockquote>
<p>Order Book snapshot:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1622497</span><span class="p">,</span><span class="o">-</span><span class="mi">21488</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1622498</span><span class="p">,</span><span class="o">-</span><span class="mi">11753</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1622499</span><span class="p">,</span><span class="mi">8598</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<ul>
<li>Initialize order book</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order Book level price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Order Book level volume</td>
</tr>
</tbody></table>
<h3 id='response-order-book-incremental-changes'>Response Order Book incremental changes</h3>
<p><code>
[3,ins_id,[[price,volume]]]
</code></p>

<blockquote>
<p>Order Book incremental changes:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1622497</span><span class="p">,</span><span class="o">-</span><span class="mi">2148</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1622498</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1622499</span><span class="p">,</span><span class="mi">8248</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<ul>
<li>Need update the volume in each price level of the order book</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order Book level price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Order Book level volume</td>
</tr>
</tbody></table>
<h3 id='order-book-update-logic'>Order Book update logic</h3>
<ul>
<li>If volume = 0 - <strong>delete</strong> price level on <strong>ASK</strong> and <strong>BID</strong> side</li>
<li>If volume &gt; 0 - <strong>update</strong> price level on <strong>BID</strong> side</li>
<li>If volume &lt; 0 - <strong>update</strong> price level on <strong>ASK</strong> side</li>
</ul>
<h1 id='trades'>Trades</h1>
<blockquote>
<p>Trades subscribe:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Subscribe on trades for ins_id = 1</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1102, [1]]'</span><span class="p">);</span>

<span class="c1">// Subscribe on trades for ins_id = 1 and 2</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1102, [1, 2]]'</span><span class="p">);</span>
</code></pre><h3 id='request-trades-subscribe'>Request Trades subscribe</h3>
<p><code>
[1102,[ins_id]]
</code></p>

<blockquote>
<p>Trades unsubscribe:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Unsubscribe on trades for ins_id = 1</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1103, [1]]'</span><span class="p">);</span>

<span class="c1">// Unsubscribe on trades for ins_id = 1 and 2</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1103, [1, 2]]'</span><span class="p">);</span>
</code></pre><h3 id='request-trades-unsubscribe'>Request Trades unsubscribe</h3>
<p><code>
[1103,[ins_id]]
</code></p>
<h3 id='response-trades-clear'>Response Trades clear</h3>
<p><code>
[4,ins_id,[]]
</code></p>

<blockquote>
<p>Trades clear:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,[]]</span>
</code></pre>
<ul>
<li>Clear all trades</li>
</ul>
<h3 id='response-trades-snapshot'>Response trades snapshot</h3>
<aside class="notice">
Trades snapshot may be sended several separate messages
</aside>

<p><code>
[5,ins_id,[[price,volume,timestamp]]]
</code></p>

<blockquote>
<p>Trades snapshot:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1620580</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">1513216484</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1620589</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">1513216784</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1620589</span><span class="p">,</span><span class="mi">365</span><span class="p">,</span><span class="mi">1513266784</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1620887</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">1513246631</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<ul>
<li>Initialize trades, avalable 100 last deals of instrument</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Deal price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Deal volume</td>
</tr>
<tr>
<td>timestamp</td>
<td>true</td>
<td>uint64</td>
<td>Deal time in sec, since Jan 01 1970. (UTC)</td>
</tr>
</tbody></table>
<h3 id='response-trades-incremental-changes'>Response trades incremental changes</h3>
<p><code>
[6,ins_id,[[price,volume,timestamp]]]
</code></p>

<blockquote>
<p>Trades incremental changes:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1619715</span><span class="p">,</span><span class="o">-</span><span class="mi">4100</span><span class="p">,</span><span class="mi">1513217115</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1619713</span><span class="p">,</span><span class="o">-</span><span class="mi">876</span><span class="p">,</span><span class="mi">1513217115</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1619713</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1513217117</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<ul>
<li>Update trades</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Deal price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Deal volume</td>
</tr>
<tr>
<td>timestamp</td>
<td>true</td>
<td>uint64</td>
<td>Deal time in sec, since Jan 01 1970. (UTC)</td>
</tr>
</tbody></table>
<h3 id='trades-update-logic'>Trades update logic</h3>
<ul>
<li>If volume &gt; 0 - <strong>buy</strong> deal (taker is buyer)</li>
<li>If volume &lt; 0 - <strong>sell</strong> dela (taker is seller)</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p>Use ApiKey and private key for authorization.</p>

<blockquote>
<p>For authorization use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ApiKey</span> <span class="o">=</span> <span class="s2">"ieW-nrNVN4qFJsMEiwtVqyjA"</span><span class="p">;</span>
<span class="nx">Secret</span> <span class="o">=</span> <span class="s2">"5fMhM8dqOzWs22heuSETNw_ED3BuXx_TBTboKJKlS8bFLIrm"</span><span class="p">;</span>

<span class="nx">Nonce</span> <span class="o">=</span> <span class="s2">"1510929522353"</span>
<span class="nx">Signature</span> <span class="o">=</span> <span class="nx">HMAC_SHA256</span><span class="p">(</span><span class="nx">Nonce</span><span class="p">,</span> <span class="nx">Secret</span><span class="p">)</span>

<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1000,[ApiKey,Nonce,Signature]]'</span><span class="p">);</span>
<span class="c1">// Authorization success response</span>
<span class="p">[</span><span class="mi">1001</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="s2">"Welcome to bitex.one Realtime API."</span><span class="p">]]</span>
<span class="c1">// Authorization error response</span>
<span class="p">[</span><span class="mi">1001</span><span class="p">,[</span><span class="mi">16</span><span class="p">]]</span>
</code></pre>
<blockquote>
<p>Example message:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[1000,["ieW-nrNVN4qFJsMEiwtVqyjA","1510929522353","2e82ed97579f24976295cd895e071402c1776612015e15d1acff112885ae6c91"]]'</span><span class="p">);</span>
</code></pre><h3 id='request'>Request</h3>
<p><code>
[1000,[api_key,nonce,signature]]
</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>api_key</td>
<td>true</td>
<td>string</td>
<td>API key</td>
</tr>
<tr>
<td>nonce</td>
<td>true</td>
<td>string</td>
<td>Nonce must be a number</td>
</tr>
<tr>
<td>signature</td>
<td>true</td>
<td>string</td>
<td>Signature</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>
[1001,[code,message]]
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>true</td>
<td>uint8</td>
<td>Result code</td>
</tr>
<tr>
<td>message</td>
<td>false</td>
<td>string</td>
<td>Message string</td>
</tr>
</tbody></table>
<h2 id='order-snapshot'>Order Snapshot</h2>
<p>If authorization succeed client gets orders snapshot</p>
<h3 id='response-clear'>Response clear</h3>
<blockquote>
<p>Response Clear:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Clear all client orders</span>
<span class="p">[</span><span class="mi">110</span><span class="p">,[]]</span>
</code></pre>
<p><code>
[110,[]]
</code></p>
<h3 id='response-snapshot'>Response snapshot</h3>
<blockquote>
<p>Response Snapshot:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// All orders snapshot</span>
<span class="p">[</span><span class="mi">111</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000007</span><span class="p">,</span><span class="mi">72050</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1534029000</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000005</span><span class="p">,</span><span class="mi">720510000000</span><span class="p">,</span><span class="o">-</span><span class="mi">64050000</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1534029000</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<p><code>
[111,[[client_order_id,ins_id,order_id,price,volume,status,time]]]
</code></p>
<h3 id='response-parameters'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order id</td>
</tr>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>uint64</td>
<td>System order ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Order volume in contracts</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>uint8</td>
<td>Order status</td>
</tr>
<tr>
<td>time</td>
<td>true</td>
<td>uint64</td>
<td>Time of last order change in sec, since Jan 01 1970. (UTC)</td>
</tr>
</tbody></table>
<h3 id='volume'>Volume</h3>
<aside class="notice">
If volume < 0 - sell order. If volume > 0 - buy order
</aside>
<h3 id='status'>Status</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Order canceled</td>
</tr>
<tr>
<td>1</td>
<td>Order added</td>
</tr>
<tr>
<td>2</td>
<td>Order executed</td>
</tr>
</tbody></table>
<h2 id='position-snapshot'>Position Snapshot</h2>
<p>If authorization succeed client gets positions snapshot</p>
<h3 id='response-clear-2'>Response clear</h3>
<blockquote>
<p>Response Clear:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Clear all client positions</span>
<span class="p">[</span><span class="mi">112</span><span class="p">,[]]</span>
</code></pre>
<p><code>
[112,[]]
</code></p>
<h3 id='response-snapshot-2'>Response snapshot</h3>
<blockquote>
<p>Response Snapshot:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Snapshot all client positions</span>
<span class="p">[</span><span class="mi">113</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">18462520000001</span><span class="p">,</span><span class="o">-</span><span class="mi">2000</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">630330330000000</span><span class="p">,</span><span class="mi">1000</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre>
<p><code>
[113,[[ins_id,price_avg,volume]]]
</code></p>
<h3 id='response-parameters-2'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument identificator</td>
</tr>
<tr>
<td>price_avg</td>
<td>true</td>
<td>int64</td>
<td>Average price multiplied by 10^10</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Position volume</td>
</tr>
</tbody></table>
<h3 id='volume-2'>volume</h3>
<aside class="notice">
volume < 0 - short position, volume > 0 - long position
</aside>
<h2 id='balance-snapshot'>Balance Snapshot</h2>
<p>All balance values in satoshi (1 satoshi = 0.00000001 BTC).</p>
<h3 id='response-snapshot-3'>Response snapshot</h3>
<blockquote>
<p>Response Snapshot:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Balance snapshot</span>
<span class="p">[</span><span class="mi">114</span><span class="p">,[</span><span class="mi">2480662205</span><span class="p">,</span><span class="mi">5754608835</span><span class="p">,</span><span class="mi">35127000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7025400</span><span class="p">,</span><span class="o">-</span><span class="mi">810125</span><span class="p">,</span><span class="mi">5753798710</span><span class="p">,</span><span class="mi">5718671710</span><span class="p">,</span><span class="mi">2963326</span><span class="p">]]</span>
</code></pre>
<p><code>
[114,[realized_pnl,wallet_balance,position_margin,order_margin,maintenance_margin,<br>
unrealized_pnl,margin_balance,available_balance,referral_profit]]
</code></p>
<h3 id='response-parameters-3'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>realized_pnl</td>
<td>true</td>
<td>int64</td>
<td>Realized profit and loss</td>
</tr>
<tr>
<td>wallet_balance</td>
<td>true</td>
<td>int64</td>
<td>Funds on account exclude unrealized_pnl</td>
</tr>
<tr>
<td>position_margin</td>
<td>true</td>
<td>int64</td>
<td>Margin, reserved by all open positions</td>
</tr>
<tr>
<td>order_margin</td>
<td>true</td>
<td>int64</td>
<td>Margin, reserved by all active orders</td>
</tr>
<tr>
<td>maintenance_margin</td>
<td>true</td>
<td>int64</td>
<td>Critical level of margin. When wallet_balance &lt; maintenance_margin liquidation begins</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>true</td>
<td>int64</td>
<td>Sum profit by all open positions</td>
</tr>
<tr>
<td>margin_balance</td>
<td>true</td>
<td>int64</td>
<td>wallet_balance + unrealized_pnl</td>
</tr>
<tr>
<td>available_balance</td>
<td>true</td>
<td>int64</td>
<td>wallet_balance - position_margin - order_margin + unrealized_pnl</td>
</tr>
<tr>
<td>referral_profit</td>
<td>true</td>
<td>int64</td>
<td>Refferal program profit</td>
</tr>
</tbody></table>
<h1 id='order'>Order</h1><h2 id='add-order'>Add Order</h2>
<aside class="warning">
Authorization required!
</aside>
<h3 id='request'>Request</h3>
<p><code>
[100,[[client_order_id,ins_id,price,volume,type]]]
</code></p>

<blockquote>
<p>Add Order:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Add sell order</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[100,[[1,1,72051,-64,1]]]'</span><span class="p">);</span>
<span class="c1">// Matching response, order placed</span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000046</span><span class="p">,</span><span class="mi">72051</span><span class="p">,</span><span class="o">-</span><span class="mi">64</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Add sell and buy orders</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[100,[[1,1,72051,-64,1],[2,1,72050,64,1]]]'</span><span class="p">);</span>
<span class="c1">// Matching response</span>
<span class="c1">// Partial first order execution</span>
<span class="c1">// First order executed fully</span>
<span class="c1">// Second order placed</span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000047</span><span class="p">,</span><span class="mi">72051</span><span class="p">,</span><span class="o">-</span><span class="mi">64</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">230981</span><span class="p">,</span><span class="mi">1649637</span><span class="p">,</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="o">-</span><span class="mi">14</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">2120</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000047</span><span class="p">,</span><span class="mi">72051</span><span class="p">,</span><span class="o">-</span><span class="mi">14</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">230982</span><span class="p">,</span><span class="mi">1649500</span><span class="p">,</span><span class="o">-</span><span class="mi">14</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">636</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000048</span><span class="p">,</span><span class="mi">72050</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Add sell and buy orders</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[100,[[1,1,72051,-64,1],[2,1,72050,64,1]]]'</span><span class="p">);</span>
<span class="c1">// Error response. Error code = 18 (NoMoney)</span>
<span class="p">[</span><span class="mi">200</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">18</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">18</span><span class="p">]]]</span>
</code></pre><h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order ID</td>
</tr>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Order volume</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>uint8</td>
<td>Order type</td>
</tr>
</tbody></table>
<h3 id='volume'>volume</h3>
<aside class="notice">
volume < 0 - sell order, volume > 0 - buy order
</aside>
<h3 id='type'>type</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Limit.</td>
</tr>
<tr>
<td>2</td>
<td>Market.</td>
</tr>
</tbody></table>

<aside class="notice">
If type = 2 (market) then price field ignored
</aside>
<h3 id='error-response-message'>Error response message</h3>
<p><code>
[200,[[client_order_id,code]]]
</code></p>
<h3 id='error-response-message-parameters'>Error response message parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order ID</td>
</tr>
<tr>
<td>code</td>
<td>true</td>
<td>uint8</td>
<td>Error code</td>
</tr>
</tbody></table>
<h3 id='response-matching-engine-parameters'>Response matching engine parameters</h3>
<p><code>
[100,[[client_order_id,ins_id,order_id,price,volume,type,deal_id,deal_price,deal_volume,leaves_volume,time,fee]]]
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order ID</td>
</tr>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>uint64</td>
<td>Order system ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>Order volume</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td>uint8</td>
<td>Type of action with order</td>
</tr>
<tr>
<td>deal_id</td>
<td>true</td>
<td>uint64</td>
<td>Deal system ID</td>
</tr>
<tr>
<td>deal_price</td>
<td>true</td>
<td>int32</td>
<td>Deal price</td>
</tr>
<tr>
<td>deal_volume</td>
<td>true</td>
<td>int32</td>
<td>Deal volume</td>
</tr>
<tr>
<td>leave_volume</td>
<td>true</td>
<td>int32</td>
<td>Leave volume in order</td>
</tr>
<tr>
<td>time</td>
<td>true</td>
<td>uint64</td>
<td>Time operation in sec, since Jan 01 1970. (UTC)</td>
</tr>
<tr>
<td>fee</td>
<td>true</td>
<td>int32</td>
<td>Comission for operation in satoshi</td>
</tr>
</tbody></table>
<h3 id='type-2'>type</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Order canceled</td>
</tr>
<tr>
<td>1</td>
<td>Order added</td>
</tr>
<tr>
<td>2</td>
<td>Order executed</td>
</tr>
<tr>
<td>3</td>
<td>Order canceled due to order move</td>
</tr>
<tr>
<td>4</td>
<td>Order canceled due to contract expiration</td>
</tr>
<tr>
<td>5</td>
<td>Deal generated by expiration module</td>
</tr>
<tr>
<td>6</td>
<td>Funding transaction</td>
</tr>
<tr>
<td>7</td>
<td>Deleverege module deal</td>
</tr>
<tr>
<td>8</td>
<td>Liquidation module order add</td>
</tr>
<tr>
<td>9</td>
<td>Liquidation module order cancel</td>
</tr>
<tr>
<td>10</td>
<td>Liquidation position deal</td>
</tr>
<tr>
<td>11</td>
<td>Risk management order cancel</td>
</tr>
<tr>
<td>12</td>
<td>Deleverage module order cancel</td>
</tr>
</tbody></table>
<h2 id='move-order'>Move Order</h2>
<aside class="warning">
Authorization required!
</aside>
<h3 id='request-2'>Request</h3>
<p><code>
[101,[[client_order_id,ins_id,order_id,price,volume]]]
</code></p>

<blockquote>
<p>Move Order:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Move buy order</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[101,[[2,1,100000048,72150,30]]]'</span><span class="p">);</span>
<span class="c1">// Order canceled due to order move (type=3)</span>
<span class="c1">// Order placed (type=1)</span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000048</span><span class="p">,</span><span class="mi">72050</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000049</span><span class="p">,</span><span class="mi">72150</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Move two orders request</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[101,[[1,1,100000048,72051,-64,1],[2,1,100000047,72050,64,1]]]'</span><span class="p">);</span>
<span class="c1">// Error response. Error code = 15 (OrderNotFound) </span>
<span class="p">[</span><span class="mi">201</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">15</span><span class="p">]]]</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Move two orders request</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[101,[[2,1,100000001,72150,30],[1,1,100000000,72051,-64]]]'</span><span class="p">);</span>
<span class="c1">// Matching response. First order move succsess</span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000001</span><span class="p">,</span><span class="mi">72050</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000002</span><span class="p">,</span><span class="mi">72150</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
<span class="c1">// Error response. Error code = 15 (OrderNotFound), </span>
<span class="p">[</span><span class="mi">201</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">]]]</span>
</code></pre><h3 id='request-parameters-2'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order ID</td>
</tr>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>uint64</td>
<td>Order system ID</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>int32</td>
<td>Order price</td>
</tr>
<tr>
<td>volume</td>
<td>true</td>
<td>int32</td>
<td>New order volume</td>
</tr>
</tbody></table>
<h3 id='error-response-message-2'>Error response message</h3>
<p><code>
[201,[[client_order_id,code]]]
</code></p>
<h3 id='error-response-message-parameters-2'>Error response message parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order ID</td>
</tr>
<tr>
<td>code</td>
<td>true</td>
<td>uint8</td>
<td>Response code</td>
</tr>
</tbody></table>
<h2 id='cancel-order'>Cancel Order</h2>
<aside class="warning">
Authorization required!
</aside>
<h3 id='request-3'>Request</h3>
<p><code>
[103,[[client_order_id,ins_id,order_id]]]
</code></p>

<blockquote>
<p>Cancel Order:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Cancel order</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[103,[[1,1,100000002]]]'</span><span class="p">);</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[103,[[2,1,100000005]]]'</span><span class="p">);</span>
<span class="c1">// Matching response</span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000002</span><span class="p">,</span><span class="mi">72150</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000005</span><span class="p">,</span><span class="mi">72350</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Cancel two orders</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'[103,[[1,1,100000003],[2,1,100000004]]]'</span><span class="p">);</span>
<span class="c1">// Matching response. Second order canceled </span>
<span class="p">[</span><span class="mi">100</span><span class="p">,[</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100000004</span><span class="p">,</span><span class="mi">72050</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1526781600</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
     <span class="p">]</span>
<span class="p">]</span>
<span class="c1">// Matching response. Error code = 15 (OrderNotFound) </span>
<span class="p">[</span><span class="mi">203</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">]]]</span>
</code></pre><h3 id='request-parameters-3'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order id</td>
</tr>
<tr>
<td>ins_id</td>
<td>true</td>
<td>uint16</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>order_id</td>
<td>true</td>
<td>uint64</td>
<td>System order id</td>
</tr>
</tbody></table>
<h3 id='error-response-message-3'>Error response message</h3>
<p><code>
[203,[[client_order_id,code]]]
</code></p>
<h3 id='error-response-message-parameters-3'>Error response message parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_order_id</td>
<td>true</td>
<td>uint32</td>
<td>Client defined order id</td>
</tr>
<tr>
<td>code</td>
<td>true</td>
<td>uint8</td>
<td>Response code</td>
</tr>
</tbody></table>
<h1 id='flood-control-system'>Flood control system</h1>
<aside class="warning">
Websocket API and web terminal have joint list of blocked IPs
</aside>
<h3 id='principle-of-operation'>Principle of operation</h3>
<blockquote>
<p>Example of the response message of the flood control system:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// 400 - GeneralError message, 23 - FloodControl error code</span>
<span class="p">[</span><span class="mi">400</span><span class="p">,[</span><span class="mi">23</span><span class="p">]]</span>
</code></pre>
<p>The client has 100 points, which can be used to send messages to the server. Each sent message reduces them by 1. Points are restored, 1 point every 600 ms.
The developer on his side should implement a flood control system and ensure that the number of points does not reach 0.</p>

<aside class="notice">
Adding, moving and cancelling a batch of orders is counted for 1 point
</aside>
<h3 id='penalties'>Penalties</h3>
<p>If the points of the flood control system have dropped below 0, the developer will receive a message 400 (GeneralError) with error code 23 (FloodControl) on every sended message. If points dropped below -10 then the connection will forcibly terminate. 
If the flood control system terminate connection 3 times in an hour, the client will be blocked by the IP address for 1 hour. In the event that the flood control system is terminate connection 6 times in 24 hours, the client will be blocked by the IP on 24 hours.</p>
<h1 id='commands'>Commands</h1>
<p>Websocket API uses next commands</p>
<h2 id='public-request'>Public request</h2>
<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1000</td>
<td>AuthorizationRequest</td>
<td>Authorization request</td>
</tr>
<tr>
<td>1100</td>
<td>SubscribeOrderBook</td>
<td>Subscribe to order book of a specific instrument</td>
</tr>
<tr>
<td>1101</td>
<td>UnSubscribeOrderBook</td>
<td>Unsubscribe to order book of a specific instrument</td>
</tr>
<tr>
<td>1102</td>
<td>SubscribeTrade</td>
<td>Subscribe to trades of a specific instrument</td>
</tr>
<tr>
<td>1103</td>
<td>UnSubscribeTrade</td>
<td>Unsubscribe to trades of a specific instrument</td>
</tr>
<tr>
<td>1104</td>
<td>InstrumentParamsRequest</td>
<td>Request all instrument parameters</td>
</tr>
</tbody></table>
<h2 id='public-response'>Public response</h2>
<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>OrderBookClearResponse</td>
<td>Clear order book of a specific instrument</td>
</tr>
<tr>
<td>2</td>
<td>OrderBookSnapshotResponse</td>
<td>Snapshot of order book</td>
</tr>
<tr>
<td>3</td>
<td>OrderBookIncrementalResponse</td>
<td>Incremental messages for order book</td>
</tr>
<tr>
<td>4</td>
<td>TradeClearResponse</td>
<td>Clear trades of specific instrument</td>
</tr>
<tr>
<td>5</td>
<td>TradeSnapshotResponse</td>
<td>Snapshot of trades</td>
</tr>
<tr>
<td>6</td>
<td>TradeIncrementalResponse</td>
<td>Incremental messages for trades</td>
</tr>
<tr>
<td>400</td>
<td>GeneralErrorResponse</td>
<td>General error message</td>
</tr>
<tr>
<td>1001</td>
<td>AuthorizationResponse</td>
<td>Authorization response message</td>
</tr>
<tr>
<td>1105</td>
<td>InstrumentParamsResponse</td>
<td>Request all instrument parameters</td>
</tr>
<tr>
<td>1107</td>
<td>InstrumentStatisticResponse</td>
<td>Instrument statistic message</td>
</tr>
</tbody></table>
<h2 id='authorized-request'>Authorized request</h2>
<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>100</td>
<td>AddOrderRequest</td>
<td>Add order request</td>
</tr>
<tr>
<td>101</td>
<td>MoveOrderNewVolumeRequest</td>
<td>Move order request</td>
</tr>
<tr>
<td>103</td>
<td>CancelOrderRequest</td>
<td>Cancel order request</td>
</tr>
</tbody></table>
<h2 id='authorized-response'>Authorized response</h2>
<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>100</td>
<td>MatchingEngineResponse</td>
<td>Message from matching engine</td>
</tr>
<tr>
<td>110</td>
<td>ClientOrderClearResponse</td>
<td>Clear client orders</td>
</tr>
<tr>
<td>111</td>
<td>ClientOrderSnapshotResponse</td>
<td>Client orders snapshot</td>
</tr>
<tr>
<td>112</td>
<td>PositionClearResponse</td>
<td>Clear client positions</td>
</tr>
<tr>
<td>113</td>
<td>PositionSnapshotResponse</td>
<td>Client positions snapshot</td>
</tr>
<tr>
<td>114</td>
<td>BalanceResponse</td>
<td>Client balance message</td>
</tr>
<tr>
<td>200</td>
<td>AddOrderResponse</td>
<td>Add order error message</td>
</tr>
<tr>
<td>201</td>
<td>MoveOrderNewVolumeResponse</td>
<td>Move order error message</td>
</tr>
<tr>
<td>203</td>
<td>CancelOrderResponse</td>
<td>Cancel order error message</td>
</tr>
</tbody></table>
<h1 id='error-codes'>Error codes</h1>
<p>All API messages use the following error codes.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Accept</td>
<td>Operation completed successfully</td>
</tr>
<tr>
<td>2</td>
<td>WrongDataFormat</td>
<td>Wrong format of JSON</td>
</tr>
<tr>
<td>3</td>
<td>InstrumentNotFound</td>
<td>Instrument not found in system</td>
</tr>
<tr>
<td>4</td>
<td>LotLimitExceeds</td>
<td>Lot limit exceeds</td>
</tr>
<tr>
<td>5</td>
<td>IncorrectLotStep</td>
<td>Lot must be integer type</td>
</tr>
<tr>
<td>6</td>
<td>PriceLimitExceeds</td>
<td>Price value out of limit</td>
</tr>
<tr>
<td>7</td>
<td>IncorrectPriceStep</td>
<td>Price is not a multiple of the minimum step</td>
</tr>
<tr>
<td>8</td>
<td>IncorrectOrderType</td>
<td>Incorrect order type</td>
</tr>
<tr>
<td>9</td>
<td>IncorrectClientOrderID</td>
<td>Incorrect value in client_order_id field</td>
</tr>
<tr>
<td>10</td>
<td>IncorrectOrderID</td>
<td>Incorrect value in order_id field</td>
</tr>
<tr>
<td>11</td>
<td>IncorrectFieldType</td>
<td>Incorrect field type</td>
</tr>
<tr>
<td>12</td>
<td>TooMuchOrders</td>
<td>Too many orders in batch</td>
</tr>
<tr>
<td>13</td>
<td>UnknownCommand</td>
<td>Uncnown command code</td>
</tr>
<tr>
<td>14</td>
<td>AuthorizationRequired</td>
<td>Authorization required</td>
</tr>
<tr>
<td>15</td>
<td>OrderNotFound</td>
<td>Order with order_id not found in system</td>
</tr>
<tr>
<td>16</td>
<td>AuthorizationError</td>
<td>Authorization error</td>
</tr>
<tr>
<td>17</td>
<td>Liquidation</td>
<td>Liquidation process</td>
</tr>
<tr>
<td>18</td>
<td>NoMoney</td>
<td>Not enoth money for operation</td>
</tr>
<tr>
<td>19</td>
<td>OrderLessThanOne</td>
<td>Order volume less than one</td>
</tr>
<tr>
<td>20</td>
<td>TradeDisabled</td>
<td>Trade disabled</td>
</tr>
<tr>
<td>21</td>
<td>NotEnothLiquidity</td>
<td>Not enoth liquidity for operation</td>
</tr>
<tr>
<td>22</td>
<td>MaxPosExceeds</td>
<td>Exceeds max position for current instrument</td>
</tr>
<tr>
<td>23</td>
<td>FloodControl</td>
<td>Flood control points decreased to 0</td>
</tr>
<tr>
<td>24</td>
<td>InstrumentExpirated</td>
<td>Instrument already expirated</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
