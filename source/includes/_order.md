
# Order

## Add Order

<aside class="warning">
Authorization required!
</aside>

### Request

<code>
[100,[[client_order_id,ins_id,price,volume,type]]]
</code>

> Add Order:

```javascript
// Add sell order
socket.send('[100,[[1,1,72051,-64,1]]]');
// Matching response, order placed
[100,[
        [1,1,100000046,72051,-64,1,0,0,0,0,1526781600,0]
     ]
]
```

```javascript
// Add sell and buy orders
socket.send('[100,[[1,1,72051,-64,1],[2,1,72050,64,1]]]');
// Matching response
// Partial first order execution
// First order executed fully
// Second order placed
[100,[
        [1,1,100000047,72051,-64,2,230981,1649637,-50,-14,1526781600,2120],
        [1,1,100000047,72051,-14,2,230982,1649500,-14,0,1526781600,636],
        [2,1,100000048,72050,64,1,0,0,0,0,1526781600,0]
     ]
]

```

```javascript
// Add sell and buy orders
socket.send('[100,[[1,1,72051,-64,1],[2,1,72050,64,1]]]');
// Error response. Error code = 18 (NoMoney)
[200,[[1,18],[2,18]]]
```

### Request parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order ID
ins_id | true | uint16 | Instrument ID
price | true | int32 | Order price
volume | true | int32 | Order volume
type | true | uint8 | Order type

### volume

<aside class="notice">
volume < 0 - sell order, volume > 0 - buy order
</aside>

### type

Value | Description
--------- | ------- 
1 | Limit.
2 | Market.

<aside class="notice">
If type = 2 (market) then price field ignored
</aside>

### Error response message

<code>
[200,[[client_order_id,code]]]
</code>

### Error response message parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order ID
code | true | uint8 | Error code

### Response matching engine parameters

<code>
[100,[[client_order_id,ins_id,order_id,price,volume,type,deal_id,deal_price,deal_volume,leaves_volume,time,fee]]]
</code>

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order ID
ins_id | true | uint16 | Instrument ID
order_id | true | uint64 | Order system ID
price | true | int32 | Order price
volume | true | int32 | Order volume
type | true | uint8 | Type of action with order
deal_id | true | uint64 | Deal system ID
deal_price | true | int32 | Deal price
deal_volume | true | int32 | Deal volume
leave_volume | true | int32 | Leave volume in order
time | true | uint64 | Time operation in sec, since Jan 01 1970. (UTC)
fee | true | int32 | Comission for operation in satoshi

### type

Value | Description
--------- | ------- 
0 | Order canceled
1 | Order added
2 | Order executed
3 | Order canceled due to order move
4 | Order canceled due to contract expiration
5 | Deal generated by expiration module
6 | Funding transaction
7 | Deleverege module deal
8 | Liquidation module order add
9 | Liquidation module order cancel
10 | Liquidation position deal
11 | Risk management order cancel
12 | Deleverage module order cancel













## Move Order

<aside class="warning">
Authorization required!
</aside>

### Request

<code>
[101,[[client_order_id,ins_id,order_id,price,volume]]]
</code>

> Move Order:

```javascript
// Move buy order
socket.send('[101,[[2,1,100000048,72150,30]]]');
// Order canceled due to order move (type=3)
// Order placed (type=1)
[100,[
        [2,1,100000048,72050,64,3,0,0,0,0,1526781600,0],
        [2,1,100000049,72150,30,1,0,0,0,0,1526781600,0]
     ]
]
```

```javascript
// Move two orders request
socket.send('[101,[[1,1,100000048,72051,-64,1],[2,1,100000047,72050,64,1]]]');
// Error response. Error code = 15 (OrderNotFound) 
[201,[[1,15],[2,15]]]
```

```javascript
// Move two orders request
socket.send('[101,[[2,1,100000001,72150,30],[1,1,100000000,72051,-64]]]');
// Matching response. First order move succsess
[100,[
        [2,1,100000001,72050,64,3,0,0,0,0,1526781600,0],
        [2,1,100000002,72150,30,1,0,0,0,0,1526781600,0]
     ]
]
// Error response. Error code = 15 (OrderNotFound), 
[201,[[1,15]]]
```

### Request parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order ID
ins_id | true | uint16 | Instrument ID
order_id | true | uint64 | Order system ID
price | true | int32 | Order price
volume | true | int32 | New order volume

### Error response message

<code>
[201,[[client_order_id,code]]]
</code>

### Error response message parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order ID
code | true | uint8 | Response code














## Cancel Order

<aside class="warning">
Authorization required!
</aside>

### Request

<code>
[103,[[client_order_id,ins_id,order_id]]]
</code>

> Cancel Order:

```javascript
// Cancel order
socket.send('[103,[[1,1,100000002]]]');
socket.send('[103,[[2,1,100000005]]]');
// Matching response
[100,[
        [1,1,100000002,72150,30,0,0,0,0,0,1526781600,0],
        [2,1,100000005,72350,30,0,0,0,0,0,1526781600,0]
     ]
]
```

```javascript
// Cancel two orders
socket.send('[103,[[1,1,100000003],[2,1,100000004]]]');
// Matching response. Second order canceled 
[100,[
        [2,1,100000004,72050,64,0,0,0,0,0,1526781600,0]
     ]
]
// Matching response. Error code = 15 (OrderNotFound) 
[203,[[1,15]]]
```

### Request parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order id
ins_id | true | uint16 | Instrument ID
order_id | true | uint64 | System order id

### Error response message

<code>
[203,[[client_order_id,code]]]
</code>

### Error response message parameters

Parameter | Required | Type | Description
--------- | ------- | ----- | -----------
client_order_id | true | uint32 | Client defined order id
code | true | uint8 | Response code
